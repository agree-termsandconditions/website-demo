<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Firework Show :: Akish Krishnan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#000000">
<link rel="shortcut icon" type="image/png" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
<link rel="icon" type="image/png" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
<link rel="apple-touch-icon-precomposed" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
<link href="https://fonts.googleapis.com/css?family=Russo+One" rel="stylesheet">
<!-- New font import for Akaya Kanadaka -->
<link href="https://fonts.googleapis.com/css2?family=Akaya+Kanadaka&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel="stylesheet" href="firework.css">

<style>
  /* Overlay styles */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 1);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    flex-direction: column;
    color: white;
    font-family: 'Russo One', sans-serif;
    text-align: center;
  }
  .overlay button {
    padding: 15px 30px;
    font-size: 1.5em;
    cursor: pointer;
    background-color: #ff4500;
    color: white;
    border: none;
    border-radius: 5px;
    margin-top: 20px;
  }
  .birthday-message {
    visibility: hidden; /* Initially hidden but takes up space */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: transparent; /* Changed to transparent */
    padding: 30px;
    border-radius: 10px;
    z-index: 1001;
    color: white;
    text-align: center;
    /* Changed font-family to Akaya Kanadaka */
    font-family: 'Akaya Kanadaka', cursive;
    opacity: 0; /* Start with hidden opacity */
    transition: opacity 0.5s ease-in-out; /* Smooth transition for appearance */
  }
  .birthday-message.show {
    opacity: 1; /* Show with full opacity */
  }
  .birthday-message h1 {
    font-size: 3em;
    margin-bottom: 10px;
  }
  .birthday-message p {
    font-size: 1.2em;
  }
  /* Style for the image above the greeting */
  .birthday-message img {
    max-width: 100%; /* Ensures the image is never wider than its container */
    height: auto; /* Maintains aspect ratio */
    display: block; /* Ensures proper centering */
    margin: 0 auto 20px auto; /* Centers the image and adds bottom margin */
    object-fit: contain; /* Ensures the image fits within the dimensions without cropping */
    border-radius: 10px; /* Optional: rounded corners for image */
  }
</style>

</head>
<body>

<!-- Audio Element -->
<audio id="backgroundAudio" src="bg.mp3" preload="auto" loop volume="0.2"></audio>

<!-- Initial Overlay with the single button -->
<div class="overlay" id="audioOverlay">
  <h1>Welcome!</h1>
  <button onclick="startExperience()">Start Experience</button>
</div>

<!-- Birthday Message (initially hidden and will be made visible by JS) -->
<div class="birthday-message" id="birthdayMessage">
  <!-- Image added here with specific width and height attributes -->
  <img src="img.jpg" alt="Celebration Image">
  <h1>ðŸŽ‰ Happy Birthday ðŸŽ‚ </br> <b> Anushka </b> </h1>
  <p>Wishing you a day filled with love and surprises!</p>
</div>

<!-- partial:index.partial.html -->
<!-- SVG Spritesheet -->
<div style="height: 0; width: 0; position: absolute; visibility: hidden;">
	<svg xmlns="http://www.w3.org/2000/svg">
		<symbol id="icon-play" viewBox="0 0 24 24">
			<path d="M8 5v14l11-7z"/>
		</symbol>
		<symbol id="icon-pause" viewBox="0 0 24 24">
			<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
		</symbol>
		<symbol id="icon-close" viewBox="0 0 24 24">
			<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
		</symbol>
		<symbol id="icon-settings" viewBox="0 0 24 24">
			<path d=""/>
		</symbol>
		<symbol id="icon-sound-on" viewBox="0 0 24 24">
			<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
		</symbol>
		<symbol id="icon-sound-off" viewBox="0 0 24 24">
			<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
		</symbol>
	</svg>
</div>

<!-- App -->
<div class="container">
	<div class="loading-init">
	
	</div>
	<div class="stage-container remove">
		<div class="canvas-container">
			<canvas id="trails-canvas"></canvas>
			<canvas id="main-canvas"></canvas>
		</div>
		<div class="controls">
			<div class="btn pause-btn">
				<svg fill="white" width="24" height="24"><use href="#icon-pause" xlink:href="#icon-pause"></use></svg>
			</div>
			<div class="btn sound-btn">
				<svg fill="white" width="24" height="24"><use href="#icon-sound-off" xlink:href="#icon-sound-off"></use></svg>
			</div>
			<div class="btn settings-btn">
				<svg fill="white" width="24" height="24"><use href="#icon-settings" xlink:href="#icon-settings"></use></svg>
			</div>
		</div>
		<div class="menu hide">
			<div class="menu__inner-wrap">
				<div class="btn btn--bright close-menu-btn">
					<svg fill="white" width="24" height="24"><use href="#icon-close" xlink:href="#icon-close"></use></svg>
				</div>
				<div class="menu__header">Settings</div>
				<div class="menu__subheader">For more info, click any label.</div>
				<form>
					<div class="form-option form-option--select">
						<label class="shell-type-label">Shell Type</label>
						<select class="shell-type"></select>
					</div>
					<div class="form-option form-option--select">
						<label class="shell-size-label">Shell Size</label>
						<select class="shell-size"></select>
					</div>
					<div class="form-option form-option--select">
						<label class="quality-ui-label">Quality</label>
						<select class="quality-ui"></select>
					</div>
					<div class="form-option form-option--select">
						<label class="sky-lighting-label">Sky Lighting</label>
						<select class="sky-lighting"></select>
					</div>
					<div class="form-option form-option--select">
						<label class="scaleFactor-label">Scale</label>
						<select class="scaleFactor"></select>
					</div>
					<div class="form-option form-option--checkbox">
						<label class="auto-launch-label">Auto Fire</label>
						<input class="auto-launch" type="checkbox" />
					</div>
					<div class="form-option form-option--checkbox form-option--finale-mode">
						<label class="finale-mode-label">Finale Mode</label>
						<input class="finale-mode" type="checkbox" />
					</div>
					<div class="form-option form-option--checkbox">
						<label class="hide-controls-label">Hide Controls</label>
						<input class="hide-controls" type="checkbox" />
					</div>
					<div class="form-option form-option--checkbox form-option--fullscreen">
						<label class="fullscreen-label">Fullscreen</label>
						<input class="fullscreen" type="checkbox" />
					</div>
					<div class="form-option form-option--checkbox">
						<label class="long-exposure-label">Open Shutter</label>
						<input class="long-exposure" type="checkbox" />
					</div>
				</form>
	
			</div>
		</div>
	</div>
	<div class="help-modal">
		<div class="help-modal__overlay"></div>
		<div class="help-modal__dialog">
			<div class="help-modal__header"></div>
			<div class="help-modal__body"></div>
			<button type="button" class="help-modal__close-btn">Close</button>
		</div>
	</div>
</div>
<!-- partial -->
  <script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/fscreen%401.0.1.js'></script>
<script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/Stage%400.1.4.js'></script>
<script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/MyMath.js'></script>
<!-- Confetti library import -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script  src="./script.js"></script>

<script>
// Function to start the experience
function startExperience() {
  document.getElementById("audioOverlay").style.display = "none"; // Hide the initial overlay

  // Immediately start fireworks
  startSurprise();

  // Play audio instantly after button click
  const audio = document.getElementById('backgroundAudio');
  audio.play();

  // Show birthday message after 4.5 seconds
  setTimeout(() => {
    const birthdayMessage = document.getElementById("birthdayMessage");
    // Change visibility to visible and add 'show' class for fade-in
    birthdayMessage.style.visibility = "visible";
    birthdayMessage.classList.add('show'); 
    
    // Trigger confetti effect
    if (typeof confetti !== 'undefined') {
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 }
      });
    } else {
      console.warn("Confetti library not loaded.");
    }

    // The message will now remain visible permanently
  }, 4500);
}

// Original startSurprise function (no changes needed here)
function startSurprise() {
  document.querySelector('.loading-init').style.display = 'none';
  document.querySelector('.stage-container').classList.remove('remove');

  // Check if soundManager and init are defined before calling them
  if (typeof soundManager !== 'undefined' && typeof init !== 'undefined' && typeof store !== 'undefined' && typeof toggleSound !== 'undefined') {
    soundManager.preload().then(() => {
      init();                         // Start fireworks
      toggleSound(true);              // Enable sound
      store.setState({ finale: true });// Finale mode on
    });
  } else {
    console.warn("SoundManager, init, store, or toggleSound not defined. Fireworks audio might not work.");
  }
}
</script>


</body>
</html>
